<!DOCTYPE html><html lang="ru">
<head>
<meta charset="UTF-8">
<title>67Shop</title>
<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:radial-gradient(circle at center,#2b0040 0%,#000 70%);
color:white;
display:flex;
overflow-x:hidden;
}.main{ width:72%; padding:20px 30px; }

.title{ text-align:center; font-size:36px; color:#a855ff; margin-bottom:20px; text-shadow:0 0 15px rgba(168,85,255,0.6); }

.controls{ display:flex; gap:20px; margin-bottom:20px; }

.controls input{ padding:6px 10px; border-radius:8px; border:none; }

.controls button{ padding:6px 12px; border:none; border-radius:8px; background:#6a00cc; color:black; font-weight:bold; cursor:pointer; transition:.2s; }

.controls button:hover{ transform:scale(1.05); background:#8b00ff; }

.shop{ display:flex; flex-wrap:wrap; gap:25px; }

.card{ background:linear-gradient(145deg,#8b00ff,#6a00cc); width:260px; padding:20px; border-radius:16px; color:black; font-weight:bold; box-shadow:0 0 15px rgba(160,80,255,.4); transition:.3s; }

.card:hover{ transform:translateY(-5px); box-shadow:0 0 30px rgba(190,120,255,.7); }

.add-btn{ margin-top:10px; padding:8px; width:100%; border:none; border-radius:10px; cursor:pointer; font-weight:bold; background:black; color:#c084fc; transition:.2s; }

.add-btn:hover{ transform:scale(1.05); box-shadow:0 0 10px #a855ff; }

.cart{ width:28%; min-height:100vh; padding:20px; border-left:3px solid #6a00cc; box-shadow:-6px 0 15px rgba(150,0,255,.4); position:fixed; right:0; top:0; background:transparent; }

.cart h2{ text-align:center; color:#a855ff; }

.cart-item{ margin:10px 0; padding:10px; background:#1f002b; border-radius:10px; }

.qty{ display:flex; justify-content:center; gap:10px; margin-top:5px; }

.qty button{ border:none; padding:4px 8px; border-radius:6px; background:#a855ff; color:black; cursor:pointer; }

.total{ margin-top:20px; text-align:center; font-weight:bold; }

.order-block{ margin-top:30px; text-align:center; }

.order-block a{ color:#a855ff; text-decoration:none; }

</style>
</head>
<body><div class="main">
<div class="title">67Shop</div><div class="controls">
<input type="text" id="search" placeholder="Поиск...">
<button onclick="sortByPrice()">Сортировать по цене</button>
</div><div class="shop" id="shop"></div><div class="order-block">
Сделать заказы тут:<br>
<a href="https://discord.gg/QcfekhuEU" target="_blank">https://discord.gg/QcfekhuEU</a>
</div></div><div class="cart">
<h2>Корзина</h2>
<div id="cartItems"></div>
<div class="total" id="total">Итого: 0 монет</div>
</div><script>

let inventory=[
{name:"Маяк",price:10,stock:14,discount:3,discountPrice:9},
{name:"Незер сет брони",price:50,stock:6,armor:true},
{name:"Зачарованные золотые яблоки",price:4,stock:30},
{name:"Фаерверки",price:1,stock:8},
{name:"Незеритовая кирка",price:15,stock:7}
];

let cart={};
let asc=true;

function renderShop(){
const shop=document.getElementById("shop");
shop.innerHTML="";

inventory.forEach(item=>{
const card=document.createElement("div");
card.className="card";

let ench="";
if(item.armor){
ench=`
<details><summary>Шлем</summary>Защита 4<br>Прочность 3<br>Починка<br>Подводное дыхание 3<br>Подводник</details>
<details><summary>Нагрудник</summary>Защита 4<br>Прочность 3<br>Починка</details>
<details><summary>Штаны</summary>Защита 4<br>Прочность 3<br>Починка</details>
<details><summary>Ботинки</summary>Защита 4<br>Прочность 3<br>Починка<br>Подводная ходьба 3<br>Невесомость 4</details>
`;
}

card.innerHTML=`
<div>${item.name}</div>
<div>В наличии: ${item.stock}</div>
<div>Цена: ${item.price} монет ${item.discount?"(от 3 шт: 9)":""}</div>
${ench}
<button class="add-btn" onclick="addToCart('${item.name}')">Добавить в корзину</button>
`;

shop.appendChild(card);
});
}

function addToCart(name){
if(!cart[name]) cart[name]=1;
else cart[name]++;
renderCart();
}

function changeQty(name,val){
cart[name]+=val;
if(cart[name]<=0) delete cart[name];
renderCart();
}

function renderCart(){
const cartDiv=document.getElementById("cartItems");
cartDiv.innerHTML="";
let total=0;

for(let name in cart){
let item=inventory.find(i=>i.name===name);
let qty=cart[name];
let price=item.price;
if(item.discount && qty>=3) price=item.discountPrice;
let sum=price*qty;
total+=sum;

cartDiv.innerHTML+=`
<div class="cart-item">
<b>${name}</b>
<div class="qty">
<button onclick="changeQty('${name}',-1)">-</button>
${qty}
<button onclick="changeQty('${name}',1)">+</button>
</div>
${sum} монет
</div>
`;
}

document.getElementById("total").innerText="Итого: "+total+" монет";
}

function sortByPrice(){
asc=!asc;
inventory.sort((a,b)=>asc?a.price-b.price:b.price-a.price);
renderShop();
}

renderShop();

</script></body>
</html>
