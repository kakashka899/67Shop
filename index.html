<!DOCTYPE html><html lang="ru">
<head>
<meta charset="UTF-8">
<title>67Shop</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at center, #2b0040 0%, #000 70%);
    color: white;
    display: flex;
    overflow-x: hidden;
    position: relative;
}
#particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
.main { width: 55%; padding: 20px 30px; z-index: 1; }
.title { text-align: center; font-size: 36px; color: #a855ff; margin-bottom: 20px; text-shadow: 0 0 12px rgba(168, 85, 255, 0.6); }
.controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.controls input { padding: 6px 10px; border-radius: 8px; border: none; width: 180px; font-size: 14px; box-shadow: 0 0 6px rgba(160,85,255,0.5); }
.controls button { padding: 6px 10px; border-radius: 8px; border: none; background: #6a00cc; color: black; font-weight: bold; cursor: pointer; transition: 0.25s; }
.controls button:hover { background: #8b00ff; transform: scale(1.05); box-shadow: 0 0 10px rgba(190,120,255,0.6); }
.shop { display: flex; gap: 25px; flex-wrap: wrap; justify-content: center; }
.card { background: linear-gradient(145deg, #8b00ff, #6a00cc); width: 250px; padding: 25px; border-radius: 16px; color: black; font-weight: bold; transition: 0.3s ease; box-shadow: 0 0 15px rgba(160, 80, 255, 0.4); position: relative; cursor: pointer; }
.card:hover { transform: translateY(-6px); box-shadow: 0 0 35px rgba(190, 120, 255, 0.7); }
.card div { margin: 8px 0; transition: 0.3s; }
.add-btn { margin-top: 12px; padding: 10px; width: 100%; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; background: linear-gradient(90deg, #000, #1a001f); color: #c084fc; transition: 0.3s; }
.add-btn:hover { background: linear-gradient(90deg, #1a001f, #000); box-shadow: 0 0 15px #a855ff; transform: scale(1.05); }
.cart { width: 28%; min-height: 100vh; background: #120018; padding: 20px; border-left: 3px solid #6a00cc; box-shadow: -6px 0 15px rgba(150, 0, 255, 0.4); z-index: 1; transition: background 0.5s; }
.cart h2 { text-align: center; color: #a855ff; font-size: 26px; text-shadow: 0 0 6px rgba(168,85,255,0.5);} 
.cart-item { margin: 15px 0; padding: 14px; background: #1f002b; border-radius: 14px; transition: 0.3s; }
.cart-item:hover { box-shadow: 0 0 15px rgba(190,120,255,0.6); }
.qty-control { display: flex; align-items: center; justify-content: center; gap: 12px; margin-top: 8px; }
.qty-control button { padding: 5px 10px; border: none; border-radius: 8px; background: #a855ff; color: black; font-weight: bold; cursor: pointer; transition: 0.25s; }
.qty-control button:hover { background: #c084fc; transform: scale(1.05); }
.total { margin-top: 30px; font-size: 18px; font-weight: bold; text-align: center; color: #e9d5ff; }
.order-block { margin-top: 30px; text-align: center; }
.order-block a { color: #a855ff; text-decoration: none; }
#settingsBtn { position: fixed; bottom: 20px; left: 20px; background: #6a00cc; color: black; border: none; border-radius: 50%; width: 45px; height: 45px; cursor: pointer; font-size: 24px; z-index:2; transition:0.3s;}
#settingsBtn:hover { transform: scale(1.1); box-shadow:0 0 15px rgba(168,85,255,0.6);}
#settingsPanel { display:none; position: fixed; bottom:70px; left:20px; width:200px; background:#1a001f; border:2px solid #6a00cc; border-radius:12px; padding:10px; z-index:2; transition: background 0.5s;}
#settingsPanel button { margin:5px; padding:5px 10px; border:none; border-radius:8px; cursor:pointer; font-weight:bold; transition:0.3s;}
#settingsPanel button:hover { transform: scale(1.05); box-shadow:0 0 10px rgba(168,85,255,0.5); }
#volumeControl { width: 100%; margin-top: 10px; }
</style>
</head>
<body>
<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>
<canvas id="particles"></canvas>
<div class="main">
    <div class="title">67Shop</div>
    <div class="controls">
        <input type="text" id="search" placeholder="Поиск..." oninput="filterItems()">
        <button onclick="sortByPrice()" id="sortBtn">Сортировать по цене ↑</button>
    </div>
    <div class="shop" id="shop"></div>
    <div class="order-block">
        Сделать заказы тут:<br>
        <a href="https://discord.gg/QcfekhuEU" target="_blank">https://discord.gg/QcfekhuEU</a>
    </div>
</div>
<div class="cart">
    <h2>Корзина</h2>
    <button onclick="clearCart()" style="margin-bottom:10px; background:#a855ff; color:black; width:100%; padding:8px; border:none; border-radius:8px; cursor:pointer;">Очистить корзину</button>
    <div id="cartItems"></div>
    <div class="total" id="totalPrice">Итого: 0 монет</div>
</div>
<button id='settingsBtn' onclick='toggleSettings()'>⚙️</button>
<div id='settingsPanel'>
    <div>Выберите фон:</div>
    <button onclick='setBackground("base")'>Базовый</button>
    <button onclick='setBackground("black")'>Черный</button>
    <button onclick='setBackground("white")'>Белый</button>
    <div>Громкость музыки:</div>
    <input type="range" id="volumeControl" min="0" max="100" value="50" oninput="changeVolume(this.value)">
    <button onclick="toggleMusic()" style="margin-top:5px; width:100%;">Вкл/Выкл Музыку</button>
</div>
<script>
let inventory = [
    { name: "Маяк", price: 10, stock: 14, discountQty: 3, discountPrice: 9 },
    { name: "Незер сет брони", price: 50, stock: 6 },
    { name: "Зачарованные золотые яблоки", price: 4, stock: 30 },
    { name: "Фаерверки", price: 1, stock: 8 }
];
let cart = {}, sortAsc = true;
const music = document.getElementById('bgMusic');
music.volume = 0.5;
music.play();
function changeVolume(value){ music.volume = value/100; }
function toggleMusic(){ if(music.paused) music.play(); else music.pause(); }
function renderShop(){const shop=document.getElementById('shop'); shop.innerHTML=''; inventory.forEach(item=>{ const card=document.createElement('div'); card.className='card'; card.innerHTML=`<div>${item.name}</div><div>В наличии: ${item.stock}</div><div>Цена: ${item.price} монет${item.discountQty?' (от '+item.discountQty+' шт: '+item.discountPrice+')':''}</div><button class='add-btn' onclick='addToCart("${item.name}",${item.price},${item.discountQty?item.discountQty:0},${item.discountPrice?item.discountPrice:0})'>Добавить в корзину</button>`; shop.appendChild(card); });}
function addToCart(name,price,discountQty,discountPrice){ if(!cart[name]){cart[name]={qty:1,price:price,discountQty:discountQty,discountPrice:discountPrice};}else{cart[name].qty++;} renderCart(); animateAdd(name);}
function changeQty(name,amount){cart[name].qty+=amount;if(cart[name].qty<=0) delete cart[name]; renderCart();}
function renderCart(){const cartDiv=document.getElementById('cartItems'); cartDiv.innerHTML=''; let total=0; for(let name in cart){let item=cart[name]; let price=item.price; if(item.discountQty&&item.qty>=item.discountQty) price=item.discountPrice; let itemTotal=price*item.qty; total+=itemTotal; cartDiv.innerHTML+=`<div class='cart-item'><b>${name}</b><div class='qty-control'><button onclick='changeQty("${name}",-1)'>-</button>${item.qty}<button onclick='changeQty("${name}",1)'>+</button></div>${itemTotal} монет</div>`;} document.getElementById('totalPrice').innerText='Итого: '+total+' монет';}
function clearCart(){cart={}; renderCart();}
function sortByPrice(){sortAsc=!sortAsc; inventory.sort((a,b)=>sortAsc?a.price-b.price:b.price-a.price); document.getElementById('sortBtn').innerText=sortAsc?'Сортировать по цене ↑':'Сортировать по цене ↓'; renderShop();}
function filterItems(){const search=document.getElementById('search').value.toLowerCase(); const filtered=inventory.filter(i=>i.name.toLowerCase().includes(search)); const shop=document.getElementById('shop'); shop.innerHTML=''; filtered.forEach(item=>{ const card=document.createElement('div'); card.className='card'; card.innerHTML=`<div>${item.name}</div><div>В наличии: ${item.stock}</div><div>Цена: ${item.price} монет${item.discountQty?' (от '+item.discountQty+' шт: '+item.discountPrice+')':''}</div><button class='add-btn' onclick='addToCart("${item.name}",${item.price},${item.discountQty?item.discountQty:0},${item.discountPrice?item.discountPrice:0})'>Добавить в корзину</button>`; shop.appendChild(card); });}
const canvas=document.getElementById('particles'); const ctx=canvas.getContext('2d'); canvas.width=window.innerWidth; canvas.height=window.innerHeight; let particles=[]; for(let i=0;i<150;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1});} function drawParticles(){ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle='white'; particles.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill(); p.y-=0.5;if(p.y<0)p.y=canvas.height;}); requestAnimationFrame(drawParticles);} drawParticles();
function animateAdd(name){ const cards=document.querySelectorAll('.card'); cards.forEach(card=>{if(card.innerText.includes(name)){ card.style.transform='scale(1.05)'; setTimeout(()=>{card.style.transform='scale(1)';},300);}})}
function toggleSettings(){ const panel=document.getElementById('settingsPanel'); panel.style.display=panel.style.display==='none'?'block':'none';}
function setBackground(type){
if(type==='base'){
  document.body.style.background='radial-gradient(circle at center, #2b0040 0%, #000 70%)';
  document.querySelector('.cart').style.background='#120018';
  document.getElementById('settingsPanel').style.background='#1a001f';
  particles.forEach(p=>p.r=2);
}else if(type==='black'){
  document.body.style.background='black';
  document.querySelector('.cart').style.background='#120018';
  document.getElementById('settingsPanel').style.background='#1a001f';
  particles.forEach(p=>p.r=2);
}else if(type==='white'){
  document.body.style.background='white';
  document.querySelector('.cart').style.background='#f0f0f0';
  document.getElementById('settingsPanel').style.background='#e0e0e0';
  particles.forEach(p=>p.r=2);
}}
renderShop();
</script>
</body>
</html>
