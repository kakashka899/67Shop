<!DOCTYPE html><html lang="ru">
<head>
<meta charset="UTF-8">
<title>67Shop</title>
<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:radial-gradient(circle at center,#2b0040 0%,#000 70%);
color:white;
display:flex;
overflow-x:hidden;
}
.main{
width:72%;
padding:20px 30px;
}
.title{
text-align:center;
font-size:36px;
color:#a855ff;
margin-bottom:20px;
text-shadow:0 0 15px rgba(168,85,255,0.6);
}
.controls{
display:flex;
gap:20px;
margin-bottom:20px;
}
.controls input{
padding:6px 10px;
border-radius:8px;
border:none;
}
.controls button{
padding:6px 12px;
border:none;
border-radius:8px;
background:#6a00cc;
color:black;
font-weight:bold;
cursor:pointer;
transition:.2s;
}
.controls button:hover{
transform:scale(1.05);
background:#8b00ff;
}
.shop{
display:flex;
flex-wrap:wrap;
gap:25px;
}
.card{
background:linear-gradient(145deg,#8b00ff,#6a00cc);
width:260px;
padding:20px;
border-radius:16px;
color:black;
font-weight:bold;
box-shadow:0 0 15px rgba(160,80,255,.4);
transition:.3s;
}
.card:hover{
transform:translateY(-5px);
box-shadow:0 0 30px rgba(190,120,255,.7);
}
.add-btn{
margin-top:10px;
padding:8px;
width:100%;
border:none;
border-radius:10px;
cursor:pointer;
font-weight:bold;
background:black;
color:#c084fc;
transition:.2s;
}
.add-btn:hover{
transform:scale(1.05);
box-shadow:0 0 10px #a855ff;
}
.cart{
width:28%;
min-height:100vh;
padding:20px;
border-left:3px solid #6a00cc;
box-shadow:-6px 0 15px rgba(150,0,255,.4);
position:fixed;
right:0;
top:0;
background:transparent;
transition: transform 0.25s ease;
}
.cart.bump{
transform: scale(1.08);
}
.cart h2{
text-align:center;
color:#a855ff;
}
.cart-item{
margin:10px 0;
padding:10px;
background:#1f002b;
border-radius:10px;
}
.qty{
display:flex;
justify-content:center;
gap:10px;
margin-top:5px;
}
.qty button{
border:none;
padding:4px 8px;
border-radius:6px;
background:#a855ff;
color:black;
cursor:pointer;
}
.total{
margin-top:20px;
text-align:center;
font-weight:bold;
}
.order-btn{
margin-top:20px;
display:block;
width:80%;
padding:10px;
margin-left:auto;
margin-right:auto;
border:none;
border-radius:12px;
background:#8b00ff;
color:black;
font-weight:bold;
cursor:pointer;
transition:.2s;
text-align:center;
}
.order-btn:hover{
background:#a855ff;
transform:scale(1.05);
}
.fly-item {
position: fixed;
pointer-events: none;
z-index: 9999;
transition: all 0.7s cubic-bezier(.4,-0.3,.6,1.4);
}
.particle {
position: fixed;
width: 6px;
height: 6px;
border-radius: 50%;
pointer-events: none;
z-index: 9998;
background: radial-gradient(circle, #d8a8ff, #7b2cff);
}
.ench-title{
color:#7c3aed;
font-weight:bold;
cursor:pointer;
transition:.2s;
}
.ench-title:hover{
color:#a855ff;
text-shadow:0 0 8px rgba(168,85,255,.7);
}
.ench{
overflow:hidden;
transition:max-height .4s ease, opacity .3s ease;
}
.ench[open]{
animation:fadeIn .3s ease;
}
@keyframes fadeIn{
from{opacity:0; transform:translateY(-5px);} 
to{opacity:1; transform:translateY(0);} 
}
#stars {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -2;
}
</style>
</head>
<body><canvas id="stars"></canvas>

<div class="main">
<div class="title">67Shop</div>
<div class="controls">
<input type="text" id="search" placeholder="Поиск...">
<button onclick="sortByPrice()">Сортировать по цене</button>
</div>
<div class="shop" id="shop"></div>
</div>
<div class="cart">
<h2>Корзина</h2>
<div id="cartItems"></div>
<div class="total" id="total">Итого: 0 монет</div>
<button class="order-btn" onclick="window.open('https://discord.gg/QcfekhuEU','_blank')">Сделать заказ</button>
</div><script>
let inventory=[
{name:"Маяк",price:10,stock:14,discount:3,discountPrice:9},
{name:"Незер сет брони",price:50,stock:6,armor:true},
{name:"Зачарованные золотые яблоки",price:4,stock:30},
{name:"Фаерверки",price:1,stock:8},
{name:"Незеритовая кирка",price:15,stock:7,pickaxe:true}
];
let cart={};
let asc=true;

function renderShop(){
const shop=document.getElementById("shop");
shop.innerHTML="";
inventory.forEach(item=>{
const card=document.createElement("div");
card.className="card product-card";
let ench="";
if(item.armor){
ench=`<details class="ench"><summary class="ench-title">Шлем</summary>Защита 4<br>Прочность 3<br>Починка<br>Подводное дыхание 3<br>Подводник</details>
<details class="ench"><summary class="ench-title">Нагрудник</summary>Защита 4<br>Прочность 3<br>Починка</details>
<details class="ench"><summary class="ench-title">Штаны</summary>Защита 4<br>Прочность 3<br>Починка</details>
<details class="ench"><summary class="ench-title">Ботинки</summary>Защита 4<br>Прочность 3<br>Починка<br>Подводная ходьба 3<br>Невесомость 4</details>`;
}
if(item.pickaxe){
ench=`<details class="ench"><summary class="ench-title">Зачарования кирки</summary>Эффективность 5<br>Прочность 3<br>Починка<br>Шелковое касание</details>`;
}
card.innerHTML=`<div class="product-title">${item.name}</div>
<div>В наличии: ${item.stock}</div>
<div>Цена: ${item.price} монет ${item.discount?"(от 3 шт: 9)":""}</div>
${ench}
<button class="add-btn" onclick="addToCart(this, '${item.name}')">Добавить в корзину</button>`;
shop.appendChild(card);
});
}

function addToCart(button,name){
flyToCart(button);
if(!cart[name]) cart[name]=1; else cart[name]++;
renderCart();
}

function changeQty(name,val){
cart[name]+=val;
if(cart[name]<=0) delete cart[name];
renderCart();
}

function renderCart(){
const cartDiv=document.getElementById("cartItems");
cartDiv.innerHTML="";
let total=0;
for(let name in cart){
let item=inventory.find(i=>i.name===name);
let qty=cart[name];
let price=item.price;
if(item.discount && qty>=3) price=item.discountPrice;
let sum=price*qty;
total+=sum;
cartDiv.innerHTML+=`<div class="cart-item"><b>${name}</b><div class="qty"><button onclick="changeQty('${name}',-1)">-</button>${qty}<button onclick="changeQty('${name}',1)">+</button></div>${sum} монет</div>`;
}
document.getElementById("total").innerText="Итого: "+total+" монет";
}

function sortByPrice(){
asc=!asc;
inventory.sort((a,b)=>asc?a.price-b.price:b.price-a.price);
renderShop();
}

function flyToCart(button){
const card=button.closest(".product-card");
const cart=document.querySelector(".cart");
const cardRect=card.getBoundingClientRect();
const cartRect=cart.getBoundingClientRect();
const clone=card.cloneNode(true);
clone.classList.add("fly-item");
clone.style.width=cardRect.width+"px";
clone.style.height=cardRect.height+"px";
clone.style.left=cardRect.left+"px";
clone.style.top=cardRect.top+"px";
document.body.appendChild(clone);
const trail=setInterval(()=>{
const rect=clone.getBoundingClientRect();
for(let i=0;i<2;i++){
const particle=document.createElement("div");
particle.classList.add("particle");
const centerX=rect.left+rect.width/2;
const centerY=rect.top+rect.height/2;
particle.style.left=centerX+"px";
particle.style.top=centerY+"px";
const angle=Math.random()*Math.PI*2;
const distance=Math.random()*20+10;
const moveX=Math.cos(angle)*distance;
const moveY=Math.sin(angle)*distance;
particle.animate([
{transform:"translate(0,0)",opacity:1},
{transform:`translate(${moveX}px, ${moveY}px) scale(0.5)`,opacity:0}
],{duration:600,easing:"ease-out"});
setTimeout(()=>particle.remove(),600);
}
},60);
setTimeout(()=>{
clone.style.left=cartRect.left+"px";
clone.style.top=cartRect.top+"px";
clone.style.width="50px";
clone.style.height="50px";
clone.style.opacity="0.3";
},10);
setTimeout(()=>{
clearInterval(trail);
clone.remove();
cart.classList.add("bump");
setTimeout(()=>cart.classList.remove("bump"),250);
},700);
}

renderShop();

// Звёзды на фоне
const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
let stars=[];
for(let i=0;i<80;i++){
stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,size:Math.random()*2,speed:Math.random()*0.5+0.2});
}
function animateStars(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
stars.forEach(star=>{
ctx.beginPath();
ctx.arc(star.x,star.y,star.size,0,Math.PI*2);
ctx.fill();
star.y+=star.speed;
if(star.y>canvas.height){star.y=0;star.x=Math.random()*canvas.width;}
});
requestAnimationFrame(animateStars);
}
animateStars();
</script></body>
  </html>
