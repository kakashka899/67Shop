<!DOCTYPE html><html lang="ru">
<head>
<meta charset="UTF-8">
<title>67Shop</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at center, #2b0040 0%, #000 70%);
    color: white;
    display: flex;
    overflow-x: hidden;
    position: relative;
}/* Партиклы */ #particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }

.main { width: 60%; padding: 30px 40px; z-index: 1; }

.title { text-align: center; font-size: 40px; color: #a855ff; margin-bottom: 20px; }

.controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }

.controls input { padding: 8px 12px; border-radius: 8px; border: none; width: 200px; font-size: 14px; }

.controls button { padding: 8px 12px; border-radius: 8px; border: none; background: #6a00cc; color: black; font-weight: bold; cursor: pointer; transition: 0.2s; }

.controls button:hover { background: #8b00ff; }

.shop { display: flex; gap: 35px; flex-wrap: wrap; justify-content: center; }

.card { background: linear-gradient(145deg, #8b00ff, #6a00cc); width: 270px; padding: 20px; border-radius: 16px; color: black; font-weight: bold; transition: 0.25s ease; box-shadow: 0 0 15px rgba(160, 80, 255, 0.4); position: relative; }

.card:hover { transform: translateY(-8px); box-shadow: 0 0 35px rgba(190, 120, 255, 0.9); }

.card div { margin: 8px 0; }

.add-btn { margin-top: 12px; padding: 10px; width: 100%; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 14px; background: linear-gradient(90deg, #000, #1a001f); color: #c084fc; transition: 0.2s ease; }

.add-btn:hover { background: linear-gradient(90deg, #1a001f, #000); box-shadow: 0 0 15px #a855ff; }

.cart { width: 35%; min-height: 100vh; background: #120018; padding: 30px; border-left: 3px solid #6a00cc; box-shadow: -8px 0 20px rgba(150, 0, 255, 0.4); z-index: 1; }

.cart h2 { text-align: center; color: #a855ff; font-size: 28px; }

.cart-item { margin: 18px 0; padding: 15px; background: #1f002b; border-radius: 12px; transition: 0.3s; }

.qty-control { display: flex; align-items: center; justify-content: center; gap: 15px; margin-top: 8px; }

.qty-control button { padding: 6px 12px; border: none; border-radius: 8px; background: #a855ff; color: black; font-weight: bold; cursor: pointer; transition: 0.2s; }

.qty-control button:hover { background: #c084fc; }

.total { margin-top: 40px; font-size: 20px; font-weight: bold; text-align: center; color: #e9d5ff; }

.order-block { margin-top: 40px; text-align: center; }

.order-block a { color: #a855ff; text-decoration: none; }

@keyframes particleMove { 0% { transform: translateY(0px); opacity: 0.5; } 50% { transform: translateY(-20px); opacity: 1; } 100% { transform: translateY(0px); opacity: 0.5; } }

.particle { position: absolute; width: 3px; height: 3px; background: white; border-radius: 50%; animation: particleMove linear infinite; }

</style>
</head>
<body><canvas id="particles"></canvas>

<div class="main">
    <div class="title">67Shop</div><div class="controls">
    <input type="text" id="search" placeholder="Поиск..." oninput="filterItems()">
    <button onclick="sortByPrice()" id="sortBtn">Сортировать по цене ↑</button>
</div>

<div class="shop" id="shop"></div>

<div class="order-block">
    Сделать заказы тут:<br>
    <a href="https://discord.gg/QcfekhuEU" target="_blank">https://discord.gg/QcfekhuEU</a>
</div>

</div><div class="cart">
    <h2>Корзина</h2>
    <div id="cartItems"></div>
    <div class="total" id="totalPrice">Итого: 0 монет</div>
</div><script>
let inventory = [
    { name: "Маяк", price: 10, stock: 14, discountQty: 3, discountPrice: 9 },
    { name: "Незер сет брони", price: 50, stock: 6 },
    { name: "Зачарованные золотые яблоки", price: 4, stock: 30 },
    { name: "Фаерверки", price: 1, stock: 8 }
];

let cart = {};
let sortAsc = true;

function renderShop() {
    const shop = document.getElementById('shop');
    shop.innerHTML = '';
    inventory.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `<div>${item.name}</div><div>В наличии: ${item.stock}</div><div>Цена: ${item.price} монет${item.discountQty ? ' (от ' + item.discountQty + ' шт: ' + item.discountPrice + ')' : ''}</div><button class='add-btn' onclick='addToCart("${item.name}", ${item.price}, ${item.discountQty ? item.discountQty : 0}, ${item.discountPrice ? item.discountPrice : 0})'>Добавить в корзину</button>`;
        shop.appendChild(card);
    });
}

function addToCart(name, price, discountQty, discountPrice) {
    if (!cart[name]) {
        cart[name] = { qty: 1, price: price, discountQty: discountQty, discountPrice: discountPrice };
    } else {
        cart[name].qty++;
    }
    renderCart();
    animateAdd(name);
}

function changeQty(name, amount) {
    cart[name].qty += amount;
    if (cart[name].qty <= 0) delete cart[name];
    renderCart();
}

function renderCart() {
    const cartDiv = document.getElementById('cartItems');
    cartDiv.innerHTML = '';
    let total = 0;
    for (let name in cart) {
        let item = cart[name];
        let price = item.price;
        if (item.discountQty && item.qty >= item.discountQty) price = item.discountPrice;
        let itemTotal = price * item.qty;
        total += itemTotal;
        cartDiv.innerHTML += `<div class='cart-item'><b>${name}</b><div class='qty-control'><button onclick='changeQty("${name}", -1)'>-</button>${item.qty}<button onclick='changeQty("${name}", 1)'>+</button></div>${itemTotal} монет</div>`;
    }
    document.getElementById('totalPrice').innerText = 'Итого: ' + total + ' монет';
}

function sortByPrice() {
    sortAsc = !sortAsc;
    inventory.sort((a,b) => sortAsc ? a.price - b.price : b.price - a.price);
    document.getElementById('sortBtn').innerText = sortAsc ? 'Сортировать по цене ↑' : 'Сортировать по цене ↓';
    renderShop();
}

function filterItems() {
    const search = document.getElementById('search').value.toLowerCase();
    const filtered = inventory.filter(i => i.name.toLowerCase().includes(search));
    const shop = document.getElementById('shop');
    shop.innerHTML = '';
    filtered.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `<div>${item.name}</div><div>В наличии: ${item.stock}</div><div>Цена: ${item.price} монет${item.discountQty ? ' (от ' + item.discountQty + ' шт: ' + item.discountPrice + ')' : ''}</div><button class='add-btn' onclick='addToCart("${item.name}", ${item.price}, ${item.discountQty ? item.discountQty : 0}, ${item.discountPrice ? item.discountPrice : 0})'>Добавить в корзину</button>`;
        shop.appendChild(card);
    });
}

// Партиклы
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
let particles = [];
for(let i=0;i<150;i++){
    particles.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r:Math.random()*2+1});
}
function drawParticles(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle='white';
    particles.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();p.y-=0.5;if(p.y<0)p.y=canvas.height;});
    requestAnimationFrame(drawParticles);
}
drawParticles();

// Эффект при добавлении в корзину
function animateAdd(name){
    const cards = document.querySelectorAll('.card');
    cards.forEach(card=>{
        if(card.innerText.includes(name)){
            card.style.transform='scale(1.05)';
            setTimeout(()=>{card.style.transform='scale(1)';},300);
        }
    });
}

renderShop();
</script></body>
</html>
